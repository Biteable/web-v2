{{drop-zone
  message="Drop to upload to Canvas!"
  draggingOver=(mut draggingOver)
  showDropzone=showDropzone}}

{{#team-list-wrapper teams=teamsList.teams}}
  <div local-class="nav">
    {{team-nav
      channel=channel
      team=team
      didCreateCanvas=(action 'didCreateCanvas')}}
  </div>


  <div local-class="content">
    {{#if team.slackId}}
    <div local-class="sidebar">
      <div local-class="sidebar-scroll">
        {{#if (not team.needsSlackToken)}}
          {{canvas-list-filter
            channel=channel
            channels=team.channels}}
        {{else}}
          <p>
            Set up the Slack integration
          </p>

          <ul>
            <li>Organize with <strong>#channels</strong></li>
            <li><strong>/canvas new</strong> from Slack</li>
            <li>Work with <strong>@mentions</strong></li>
            <li>Get <strong>notifications</strong> in Slack</li>
          </ul>

          <p>
            {{add-to-slack}}
          </p>

          <p>
            <small>I'll <a href="#">do this later</a>.</small>
          </p>
        {{/if}}
      </div>
    </div>
    {{/if}}

    <div local-class="canvas-list">
      <div local-class="canvas-list-scroll">
        {{#if (and (not team.needsSlackToken) channelModel.topicCanvas.isFulfilled)}}
          {{channel-topic-canvas canvas=channelModel.topicCanvas.content}}
        {{/if}}

        {{canvas-list
          canvases=(if channel filteredCanvases team.canvases)
          channel=channel
          team=team
          didCreateCanvas=(action 'didCreateCanvas')}}
      </div>
    </div>
  </div>
{{/team-list-wrapper}}
